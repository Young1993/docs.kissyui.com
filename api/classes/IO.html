<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>IO - API Documentation — KISSY v1.5 Documentation</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="API Documentation — KISSY v1.5 Documentation"></h1>
            
        </div>
    </div>
    <div id="bd" class="yui3-g">
        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Align.html">Align</a></li>
            
                <li><a href="../classes/Anim.html">Anim</a></li>
            
                <li><a href="../classes/Base.html">Base</a></li>
            
                <li><a href="../classes/Base.Attribute.html">Base.Attribute</a></li>
            
                <li><a href="../classes/Button.html">Button</a></li>
            
                <li><a href="../classes/Color.html">Color</a></li>
            
                <li><a href="../classes/ComboBox.html">ComboBox</a></li>
            
                <li><a href="../classes/ComboBox.FilterSelect.html">ComboBox.FilterSelect</a></li>
            
                <li><a href="../classes/ComboBox.LocalDataSource.html">ComboBox.LocalDataSource</a></li>
            
                <li><a href="../classes/ComboBox.MultiValueComboBox.html">ComboBox.MultiValueComboBox</a></li>
            
                <li><a href="../classes/ComboBox.RemoteDataSource.html">ComboBox.RemoteDataSource</a></li>
            
                <li><a href="../classes/Constrain.html">Constrain</a></li>
            
                <li><a href="../classes/Container.html">Container</a></li>
            
                <li><a href="../classes/Control.html">Control</a></li>
            
                <li><a href="../classes/Cookie.html">Cookie</a></li>
            
                <li><a href="../classes/DatePicker.html">DatePicker</a></li>
            
                <li><a href="../classes/DateTimeFormat.html">DateTimeFormat</a></li>
            
                <li><a href="../classes/DD.DDM.html">DD.DDM</a></li>
            
                <li><a href="../classes/DD.Draggable.html">DD.Draggable</a></li>
            
                <li><a href="../classes/DD.DraggableDelegate.html">DD.DraggableDelegate</a></li>
            
                <li><a href="../classes/DD.Droppable.html">DD.Droppable</a></li>
            
                <li><a href="../classes/DD.DroppableDelegate.html">DD.DroppableDelegate</a></li>
            
                <li><a href="../classes/DelegateChildren.html">DelegateChildren</a></li>
            
                <li><a href="../classes/Dom.html">Dom</a></li>
            
                <li><a href="../classes/Drag.html">Drag</a></li>
            
                <li><a href="../classes/Event.html">Event</a></li>
            
                <li><a href="../classes/Event.Target.html">Event.Target</a></li>
            
                <li><a href="../classes/Feature.html">Feature</a></li>
            
                <li><a href="../classes/FilterMenu.html">FilterMenu</a></li>
            
                <li><a href="../classes/GregorianCalendar.html">GregorianCalendar</a></li>
            
                <li><a href="../classes/IO.html">IO</a></li>
            
                <li><a href="../classes/Json.html">Json</a></li>
            
                <li><a href="../classes/Loader.html">Loader</a></li>
            
                <li><a href="../classes/Manager.html">Manager</a></li>
            
                <li><a href="../classes/Menu.html">Menu</a></li>
            
                <li><a href="../classes/Menu.CheckMenuItem.html">Menu.CheckMenuItem</a></li>
            
                <li><a href="../classes/Menu.Item.html">Menu.Item</a></li>
            
                <li><a href="../classes/Menu.PopupMenu.html">Menu.PopupMenu</a></li>
            
                <li><a href="../classes/Menu.SubMenu.html">Menu.SubMenu</a></li>
            
                <li><a href="../classes/MenuButton.html">MenuButton</a></li>
            
                <li><a href="../classes/MenuButton.Option.html">MenuButton.Option</a></li>
            
                <li><a href="../classes/MenuButton.Select.html">MenuButton.Select</a></li>
            
                <li><a href="../classes/Node.html">Node</a></li>
            
                <li><a href="../classes/Overlay.html">Overlay</a></li>
            
                <li><a href="../classes/Overlay.Dialog.html">Overlay.Dialog</a></li>
            
                <li><a href="../classes/Overlay.Popup.html">Overlay.Popup</a></li>
            
                <li><a href="../classes/Path.html">Path</a></li>
            
                <li><a href="../classes/PopupDatePicker.html">PopupDatePicker</a></li>
            
                <li><a href="../classes/Promise.html">Promise</a></li>
            
                <li><a href="../classes/Promise.Defer.html">Promise.Defer</a></li>
            
                <li><a href="../classes/Proxy.html">Proxy</a></li>
            
                <li><a href="../classes/PullToRefresh.html">PullToRefresh</a></li>
            
                <li><a href="../classes/Resizable.html">Resizable</a></li>
            
                <li><a href="../classes/ResizableProxyPlugin.html">ResizableProxyPlugin</a></li>
            
                <li><a href="../classes/Resize.html">Resize</a></li>
            
                <li><a href="../classes/Scroll.html">Scroll</a></li>
            
                <li><a href="../classes/ScrollBar.html">ScrollBar</a></li>
            
                <li><a href="../classes/ScrollView.html">ScrollView</a></li>
            
                <li><a href="../classes/Shim.html">Shim</a></li>
            
                <li><a href="../classes/UA.html">UA</a></li>
            
                <li><a href="../classes/Uri.html">Uri</a></li>
            
                <li><a href="../classes/Uri.Query.html">Uri.Query</a></li>
            
                <li><a href="../classes/Util.html">Util</a></li>
            
                <li><a href="../classes/XTemplate.html">XTemplate</a></li>
            
                <li><a href="../classes/XTemplateRunTime.html">XTemplateRunTime</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/anim.html">anim</a></li>
            
                <li><a href="../modules/base.html">base</a></li>
            
                <li><a href="../modules/button.html">button</a></li>
            
                <li><a href="../modules/color.html">color</a></li>
            
                <li><a href="../modules/combobox.html">combobox</a></li>
            
                <li><a href="../modules/component_container.html">component/container</a></li>
            
                <li><a href="../modules/component_control.html">component/control</a></li>
            
                <li><a href="../modules/component_extension_align.html">component/extension/align</a></li>
            
                <li><a href="../modules/component_extension_delegate-children.html">component/extension/delegate-children</a></li>
            
                <li><a href="../modules/component_extension_shim.html">component/extension/shim</a></li>
            
                <li><a href="../modules/component_manager.html">component/manager</a></li>
            
                <li><a href="../modules/component_plugin_drag.html">component/plugin/drag</a></li>
            
                <li><a href="../modules/component_plugin_resize.html">component/plugin/resize</a></li>
            
                <li><a href="../modules/cookie.html">cookie</a></li>
            
                <li><a href="../modules/date_format.html">date/format</a></li>
            
                <li><a href="../modules/date_gregorian.html">date/gregorian</a></li>
            
                <li><a href="../modules/date_picker.html">date/picker</a></li>
            
                <li><a href="../modules/date_popup-picker.html">date/popup-picker</a></li>
            
                <li><a href="../modules/dd.html">dd</a></li>
            
                <li><a href="../modules/dd_plugin_constrain.html">dd/plugin/constrain</a></li>
            
                <li><a href="../modules/dd_plugin_proxy.html">dd/plugin/proxy</a></li>
            
                <li><a href="../modules/dd_plugin_scroll.html">dd/plugin/scroll</a></li>
            
                <li><a href="../modules/dom.html">dom</a></li>
            
                <li><a href="../modules/event.html">event</a></li>
            
                <li><a href="../modules/feature.html">feature</a></li>
            
                <li><a href="../modules/filter-menu.html">filter-menu</a></li>
            
                <li><a href="../modules/io.html">io</a></li>
            
                <li><a href="../modules/json.html">json</a></li>
            
                <li><a href="../modules/loader.html">loader</a></li>
            
                <li><a href="../modules/menu.html">menu</a></li>
            
                <li><a href="../modules/menubutton.html">menubutton</a></li>
            
                <li><a href="../modules/node.html">node</a></li>
            
                <li><a href="../modules/overlay.html">overlay</a></li>
            
                <li><a href="../modules/path.html">path</a></li>
            
                <li><a href="../modules/promise.html">promise</a></li>
            
                <li><a href="../modules/resizable.html">resizable</a></li>
            
                <li><a href="../modules/resizable_plugin_proxy.html">resizable/plugin/proxy</a></li>
            
                <li><a href="../modules/scroll-view.html">scroll-view</a></li>
            
                <li><a href="../modules/scroll-view_plugin_pull-to-refresh.html">scroll-view/plugin/pull-to-refresh</a></li>
            
                <li><a href="../modules/scroll-view_plugin_scrollbar.html">scroll-view/plugin/scrollbar</a></li>
            
                <li><a href="../modules/ua.html">ua</a></li>
            
                <li><a href="../modules/uri.html">uri</a></li>
            
                <li><a href="../modules/util.html">util</a></li>
            
                <li><a href="../modules/xtemplate.html">xtemplate</a></li>
            
                <li><a href="../modules/xtemplate_runtime.html">xtemplate/runtime</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>IO Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/src_api_io.js.html#l6"><code>src\api\io.js:6</code></a>
        </div>
    

    
        
            Module: <a href="../modules/io.html">io</a>
        
    

    
</div>



<div class="box intro">
    <p>构造请求并发送，继承自 <a href="#Promise">Promise</a></p>

</div>


    <div class="constructor">
        <h2>Constructor</h2>
        <div id="method_IO" class="method item">
    <h3 class="name"><code>IO</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>cfg</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>beforeSend</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l6"><code>src\api\io.js:6</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">cfg</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                    

                    

                    <div class="param-description">
                        <p>用来配置请求的键值对对象. 所有的配置项都是可选的,可以通过 io.setupConfig() 来设置默认配置</p>

                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">url</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>类型 String. 本次请求发送的地址</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">accepts</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                                

                                <div class="param-description">
                                    <p>该设置和dataType一起确定定当前发送给服务器的 Accept 头，默认包括：</p>
<pre><code>{
    xml: &quot;application/xml, text/xml&quot;,
    html: &quot;text/html&quot;,
    text: &quot;text/plain&quot;,
    json: &quot;application/json, text/javascript&quot;
}</code></pre>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">dataType</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>期望能够从服务器返回的数据类型.如果没有指定，kissy 将尽量从返回的<code>mimeType | Content-type</code>相应头中推导出来 (‘text/xml’ 将推导出 xml , ‘text/json’ 将推导出 json)
默认支持的类型（该类型的响应信息会作为第一个参数传到 success complete 回调中）有:</p>
<ul>
<li>&quot;xml&quot; : 返回响应信息代表的 xml 文档.</li>
<li>&quot;text&quot; : 返回响应信息串</li>
<li>&quot;html&quot; : 同 &quot;text&quot;</li>
<li>&quot;script&quot; : 将响应信息作为脚本执行。</li>
<li>&quot;json&quot; : 返回响应信息代表的 json 对象.</li>
<li>&quot;jsonp&quot; : 返回 jsonp 的响应信息代表的 json 对象.</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">processData=true</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
                                

                                <div class="param-description">
                                    <p>当 data 为对象时是否用 param() 序列化. 例如当需要传送一个 xml 或 formdata 到服务器时就不需要 param data， 并且最好同时设置 contentType 为合适的值</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">async=true</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
                                

                                <div class="param-description">
                                    <p>本次 xhr 请求是否异步发送，如果你需要同步发送，设置该配置为 false,注意同步请求在完成前会锁死浏览器</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">cache</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
                                

                                <div class="param-description">
                                    <p>dataType 为 script 或 jsonp 时默认 false，其他默认为 true. false 时则会自动给请求 url 加上时间戳</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">contentType=&quot;application/x-www-form-urlencoded&quot;</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>设置 false 则不设置 Content-type 头 (例如传输 formdata 时需要设置 false).注意：&quot;application/x-www-form-urlencoded&quot;时的数据总是以 utf-8 的编码传往服务器端</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">context</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                                

                                <div class="param-description">
                                    <p>设置回调函数中的 this 值,默认为当前配置项.例如可以把一个 dom 节点作为 complete 回调函数的上下文</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">crossDomain</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
                                

                                <div class="param-description">
                                    <p>默认同域请求为 false,不同域间为 true。设置该值为 true，则强制 script 以及 jsonp 请求通过 script 节点发送，用于服务器重定向到其他域脚本的场景</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">data</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>如果为 Object 类型则会通过 param() 格式化为字符串
注意:data 不能为嵌套 object 等复杂类型，例如: 不能是<code>{data : [{x : 1}]}</code>,可以为{data : [1]}</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">serializeArray=true</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
                                

                                <div class="param-description">
                                    <p>表示序列化 data 时是否给数组值对应的键名加 []</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">error</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                                

                                <div class="param-description">
                                    <p>请求失败时的回调函数.这个函数接受 2 个参数:</p>
<ul>
<li>textStatus 表示错误信息，包括 “timeout” , “error” , “abort” 等</li>
<li>io 表示这次请求代表的 io 实例</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">success</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                                

                                <div class="param-description">
                                    <p>请求成功时的回调函数.该函数传入三个参数:</p>
<ul>
<li>data : 根据 dataType 格式化服务器响应信息的响应对象</li>
<li>textStatus : 描述成功的状态，一般是 “success”</li>
<li>io : 本次请求的 io 实例.</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">complete</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                                

                                <div class="param-description">
                                    <p>请求完成时(无论成功失败)的回调函数.该函数传入三个参数</p>
<ul>
<li>data : 根据 dataType 格式化服务器响应信息的响应对象</li>
<li>textStatus : 描述成功的状态，一般是 “success”</li>
<li>io : 本次请求的 io 实例.</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">headers</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                                

                                <div class="param-description">
                                    <p>设置这次请求 xhr 的请求头</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">jsonp</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>覆盖这次 jsonp 请求的 callback 函数名. 这个值可以取代请求 url 中 callback=? 的 callback.例如 {jsonp:’onJsonLoad’} 会导致 ‘onJsonLoad=?’ 发送给服务器端</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">jsonpCallback</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                                

                                <div class="param-description">
                                    <p>覆盖这次 jsonp 请求 callback 函数对应的值 (callback={jsonpCallback}). 这个值将取代 kissy 默认生成的 UUID 值.
当传入函数时，该函数需要返回字符串，每次请求都会调用该函数得到用于替换的字符串</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">mimeType</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>跨平台设置 xhr 的 mimeType</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">password</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>对于需要验证的 http 请求设置密码</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">username</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>对于需要验证的 http 请求设置用户名</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">scriptCharset</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>用于 dataType jsonp 和 script ，设定传输用的 script 节点的 charset 属性。只有当返回编码和当前页面编码不一致时使用</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">timeout</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                

                                <div class="param-description">
                                    <p>对这次请求设个超时时间，单位秒. 当超时后会触发 error 以及 complete 回调 , 状态字符串为 “timeout”.</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">type</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>可取值 “get” 或者 “post”</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">xhrFields</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                                

                                <div class="param-description">
                                    <p>设置到原生 xhr 对象的键值对.例如为了在标准浏览器进行跨域请求时携带cookie你可以设置 withCredentials 为 true.</p>
<pre><code>new IO({
    url:&quot;http://y.com/ping.php&quot;,
    xhrFields:{
        withCredentials: true
    }
});</code></pre>
<p>这样 x.com 发送请求 y.com 会携带 y.com 的 cookie 信息</p>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">xdr</code>
                                    <span class="type">Obect</span>
                                

                                <div class="param-description">
                                    <p>设置跨域的具体方式和细节，包括以下配置</p>

                                </div>

                                
                                    <ul class="params-list">
                                        
                                        <li class="param">
                                            
                                                <code class="param-name">src</code>
                                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                            

                                            <div class="param-description">
                                                完全跨域请求的 flash 发送程序地址。当完全跨域时,KISSY io 在ie 中将采用 flash 发请求，默认采用 KISSY 自带 flash 发请求，也可将 kissy 自带的 flash 部署到其他地方，在 src 中指定;在标准浏览器将采用原生机制
                                            </div>
                                        </li>
                                        
                                        <li class="param">
                                            
                                                <code class="param-name">subDomain</code>
                                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                                            

                                            <div class="param-description">
                                                跨子域时的一些请求配置，包括
                                            </div>
                                        </li>
                                        
                                        <li class="param">
                                            
                                                <code class="param-name">subDomain.proxy</code>
                                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                            

                                            <div class="param-description">
                                                指定代理页面的地址。默认 “/sub_domain_proxy.html” . 例如 x.taobao.com 要发送请求给 y.taobao.com ，那么需要设置 x.taobao.com 的页面 document.domain=’taobao.com’ ，然后提供 y.taobao.com/sub_domain_proxy.html ，该页面内容为
<code>&lt;script&gt;document.domain=&#x27;taobao.com&#x27;&lt;&#x2F;script&gt;</code>然后 x.taobao.com 的页面就可以和 y.taobao.com 通信了
                                            </div>
                                        </li>
                                        
                                    </ul>
                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">form</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                

                                <div class="param-description">
                                    <p>字符串表示 css3 选择器</p>
<ul>
<li>如果 form 的 enctype 为 “multipart/form-data` 则会采用 iframe 的方式进行无刷新文件上传，</li>
<li>否则将 form 内的输入域和值序列化后通过 xhr 发送到服务器</li>
</ul>

                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">beforeSend</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>发送请求前的拦截函数，传入参数 (xhrObject, config)
例如可以通过该函数实现上传进度监控</p>
<pre><code>var xhr = new IO({
    url:&#39;./upload.php&#39;,
    type:&quot;post&quot;,
    processData:false,
    data:formData,
    dataType:&#39;json&#39;,
    contentType:false,
    beforeSend:function (xhr) {
        // 上传监听 upload
        xhr.getNativeXhr().upload.addEventListener(&#39;progress&#39;, function (ev) {
            S.log({ &#39;loaded&#39;:ev.loaded, &#39;total&#39;:ev.total });
        });
    },
    success:function (d) {
        S.log(d);
    }
});</code></pre>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <p>载入并执行一段脚本</p>
<pre class="code prettyprint"><code>new IO({
   type: &quot;GET&quot;,
   url: &quot;test.js&quot;,
   dataType: &quot;script&quot;
 });</code></pre>
<p> 发送数据给服务器，服务器返回后通知用户</p>
<pre class="code prettyprint"><code> new IO({
   type: &quot;POST&quot;,
   url: &quot;some.php&quot;,
   data: {
    x:&#39;y&#39;
   },
   success: function(msg){
     alert( &quot;Data Saved: &quot; + msg );
   }
 });</code></pre>
<p> 取得最新的 html 并显示</p>
<pre class="code prettyprint"><code> new IO({
  url: &quot;test.html&quot;,
  cache: false,
  success: function(html){
    KISSY.one(&quot;#results&quot;).html(html);
  }
});</code></pre>
<p>发送 xml 文档给服务器</p>
<pre class="code prettyprint"><code>var xmlDocument=S.parseXML(&quot;&lt;a&gt;h&lt;/a&gt;&quot;);

new IO({
   url: &quot;page.php&quot;,
   processData: false,
   contentType:&#39;text/xml&#39;,
   data: xmlDocument,
   type:&#39;post&#39;
 });</code></pre>
<p> 通过 xhr 发送 form 内容,自动序列化 form 为查询串通过 xhr 发送给服务器端</p>
<pre class="code prettyprint"><code> &lt;form&gt;
    &lt;input name=&#39;test&#39; value=&#39;v&#39; /&gt;
&lt;/form&gt;

&lt;script&gt;
    new IO({
        url:&#39;send.php&#39;,
        form:&#39;#test&#39;,
        type:&#39;post&#39;,
        dataType:&#39;json&#39;,
        success:function(d,s,xhr){
            alert(&#39;success&#39;);
        }
    });
&lt;/script&gt;</code></pre>

            </div>
        </div>
    
</div>

    </div>


<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
        
            <li class="api-class-tab attrs"><a href="#attrs">Attributes</a></li>
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method">
                                <a href="#method_abort">abort</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_get">get</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getJson">getJson</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getNativeXhr">getNativeXhr</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getResponseHeader">getResponseHeader</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_jsonp">jsonp</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_post">post</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_serialize">serialize</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_setupConfig">setupConfig</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_then">then</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_upload">upload</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
                <div class="index-section attrs">
                    <h3>Attributes</h3>

                    <ul class="index-list attrs">
                        
                            <li class="index-item attr">
                                <a href="#attr_readyState">readyState</a>
                            </li>
                        
                            <li class="index-item attr">
                                <a href="#attr_responseText">responseText</a>
                            </li>
                        
                            <li class="index-item attr">
                                <a href="#attr_status">status</a>
                            </li>
                        
                            <li class="index-item attr">
                                <a href="#attr_statusText">statusText</a>
                            </li>
                        
                    </ul>
                </div>
            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_abort" class="method item">
    <h3 class="name"><code>abort</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l194"><code>src\api\io.js:194</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>实例的方法，如果当前请求还没完成（进行中状态）则中断当前的请求，否则什么也不做</p>

    </div>

    

    

    
</div>

                
                    <div id="method_get" class="method item">
    <h3 class="name"><code>get</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>url</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>dataType</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l226"><code>src\api\io.js:226</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>发送 http get 请求</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">url</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求地址</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求附带的参数</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求成功后的回调</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">dataType</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>传到回调函数作为参数的数据类型</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>代表本次请求的 xhrObj</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getJson" class="method item">
    <h3 class="name"><code>getJson</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>url</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l248"><code>src\api\io.js:248</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>发送 http get 请求，无视请求响应的 Content-type，将返回信息解析为 json 作为第一个参数调用 callback 回调</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">url</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求地址</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求附带的参数</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求成功后的回调</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>代表本次请求的 xhrObj</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getNativeXhr" class="method item">
    <h3 class="name"><code>getNativeXhr</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l189"><code>src\api\io.js:189</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>实例的方法，获得内置原生的 io 实例</p>

    </div>

    

    

    
</div>

                
                    <div id="method_getResponseHeader" class="method item">
    <h3 class="name"><code>getResponseHeader</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>key</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l183"><code>src\api\io.js:183</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>实例的方法，返回响应对应的 text 和 xml（如果需要）.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">key</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>响应头名</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_jsonp" class="method item">
    <h3 class="name"><code>jsonp</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>url</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l258"><code>src\api\io.js:258</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>发送 jsonp 请求，将返回 json 信息作为第一个参数调用 callback 回调</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">url</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求地址</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求附带的参数</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求成功后的回调</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>代表本次请求的 xhrObj</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_post" class="method item">
    <h3 class="name"><code>post</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>url</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>dataType</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l237"><code>src\api\io.js:237</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>发送 http post 请求</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">url</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求地址</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求附带的参数</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求成功后的回调</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">dataType</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>传到回调函数作为参数的数据类型</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>代表本次请求的 xhrObj</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_serialize" class="method item">
    <h3 class="name"><code>serialize</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>elements</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
        </span>
    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l282"><code>src\api\io.js:282</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>序列化一系列表单元素为可提交的字符串</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">elements</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a> | Array<HTMLElement> | <a href="https://developer.mozilla.org/en/Document_Object_Model_(DOM)/HTMLElement" class="crosslink external" target="_blank">HTMLElement</a> | KISSY.NodeList</span>
                    

                    

                    <div class="param-description">
                        <p>代表表单元素(input form select ...)的集合，参数格式同query()</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>:
                    
                    <p>序列化后的字符串</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_setupConfig" class="method item">
    <h3 class="name"><code>setupConfig</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>cfg</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l207"><code>src\api\io.js:207</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>静态方法。为所有的 ajax 请求(包括未来)设定默认配置</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">cfg</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                    

                    

                    <div class="param-description">
                        <p>用来配置默认请求配置的键值对对象。其中的每个配置都是可选的,具体请参考IO的构造函数</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <p>设置默认的请求地址为 /xmlhttp/ ，并使用 POST 方式。那么接下来的请求都会往 /xmlhttp/ 发送请求</p>
<pre class="code prettyprint"><code>IO.setupConfig({
    url:&#39;/xmlhttp/&#39;,
    type:&#39;post&#39;
});

IO({
    data:{x:&#39;mydata&#39;}
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_then" class="method item">
    <h3 class="name"><code>then</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>success</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>error</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="..\classes\Promise.html" class="crosslink">Promise</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l199"><code>src\api\io.js:199</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>实例的方法，听当前请求的成功和失败，并返回新的 promise 实例</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">success</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>成功回调，参数只有一个，为数组 [data,textStatus,io]. 其中 data 为服务器返回数据， textStatus 为当前请求状态， io 为当前请求实例</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">error</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>失败回调，参数只有一个，为数组 [null,textStatus,io]</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="..\classes\Promise.html" class="crosslink">Promise</a></span>:
                    
                    <p>新的 promise 对象</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_upload" class="method item">
    <h3 class="name"><code>upload</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>url</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>form</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l270"><code>src\api\io.js:270</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>发送 jsonp 请求，将返回 json 信息作为第一个参数调用 callback 回调.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">url</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>请求地址</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">form</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/Document_Object_Model_(DOM)/HTMLElement" class="crosslink external" target="_blank">HTMLElement</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>表单元素，字符串表示 css3 选择器</p>
<h3 id="note">Note</h3>
<ul>
<li>form 参数代表的 form 节点中如果有 input type=’file’ 的节点会自动启用 iframe-upload 模式，否则收集 form 内 input 数据启用普通 xhr 模式.</li>
<li>form 参数用户文件上传时请设置 type:’post’.</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
            </div>
        

        

        
            <div id="attrs" class="api-class-tabpanel">
                <h2 class="off-left">Attributes</h2>

                
                    <div id="attr_readyState" class="attr item">
    <a name="config_readyState"></a> 
    <h3 class="name"><code>readyState</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l163"><code>src\api\io.js:163</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>表示请求完成状态。可用于判断当前请求是否完成. 4 表示完成，否则表示正在进行中.(xhr 会有更多取值，jsonp script 只有 0(初始化) 1(发送中) 4(完成))</p>

    </div>

    

    
        <div class="emits box">
            <h4>Fires event <code>readyStateChange</code></h4>

            <p>
            Fires when the value for the configuration attribute <code>readyState</code> is
            changed. You can listen for the event using the <code>on</code> method if you
            wish to be notified before the attribute's value has changed, or
            using the <code>after</code> method if you wish to be notified after the
            attribute's value has changed.
            </p>

            <div class="params">
                <h4>Parameters:</h4>

                <ul class="params-list">
                    <li class="param">
                        <code class="param-name">e</code>
                        <span class="type">EventFacade</span>

                        <div class="param-description">
                            An Event Facade object with the following
                            attribute-specific properties added:
                        </div>

                        <ul class="params-list">
                            <li class="param">
                                <code class="param-name">prevVal</code>
                                <span class="type">Any</span>
                                <div class="param-description">The value of the attribute, prior to it being set.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">newVal</code>
                                <span class="type">Any</span>
                                <div class="param-description">The value the attribute is to be set to.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">attrName</code>
                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                <div class="param-description">The name of the attribute being set.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">subAttrName</code>
                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                <div class="param-description">If setting a property within the attribute's value, the name of the sub-attribute property being set.</div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    

    
</div>

                
                    <div id="attr_responseText" class="attr item">
    <a name="config_responseText"></a> 
    <h3 class="name"><code>responseText</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l178"><code>src\api\io.js:178</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>返回响应对应的 text 和 xml(如果需要)</p>

    </div>

    

    
        <div class="emits box">
            <h4>Fires event <code>responseTextChange</code></h4>

            <p>
            Fires when the value for the configuration attribute <code>responseText</code> is
            changed. You can listen for the event using the <code>on</code> method if you
            wish to be notified before the attribute's value has changed, or
            using the <code>after</code> method if you wish to be notified after the
            attribute's value has changed.
            </p>

            <div class="params">
                <h4>Parameters:</h4>

                <ul class="params-list">
                    <li class="param">
                        <code class="param-name">e</code>
                        <span class="type">EventFacade</span>

                        <div class="param-description">
                            An Event Facade object with the following
                            attribute-specific properties added:
                        </div>

                        <ul class="params-list">
                            <li class="param">
                                <code class="param-name">prevVal</code>
                                <span class="type">Any</span>
                                <div class="param-description">The value of the attribute, prior to it being set.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">newVal</code>
                                <span class="type">Any</span>
                                <div class="param-description">The value the attribute is to be set to.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">attrName</code>
                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                <div class="param-description">The name of the attribute being set.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">subAttrName</code>
                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                <div class="param-description">If setting a property within the attribute's value, the name of the sub-attribute property being set.</div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    

    
</div>

                
                    <div id="attr_status" class="attr item">
    <a name="config_status"></a> 
    <h3 class="name"><code>status</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l168"><code>src\api\io.js:168</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>响应状态码. xhr 会有更多取值。jsonp script 只有 200(成功) , 500(出错)</p>

    </div>

    

    
        <div class="emits box">
            <h4>Fires event <code>statusChange</code></h4>

            <p>
            Fires when the value for the configuration attribute <code>status</code> is
            changed. You can listen for the event using the <code>on</code> method if you
            wish to be notified before the attribute's value has changed, or
            using the <code>after</code> method if you wish to be notified after the
            attribute's value has changed.
            </p>

            <div class="params">
                <h4>Parameters:</h4>

                <ul class="params-list">
                    <li class="param">
                        <code class="param-name">e</code>
                        <span class="type">EventFacade</span>

                        <div class="param-description">
                            An Event Facade object with the following
                            attribute-specific properties added:
                        </div>

                        <ul class="params-list">
                            <li class="param">
                                <code class="param-name">prevVal</code>
                                <span class="type">Any</span>
                                <div class="param-description">The value of the attribute, prior to it being set.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">newVal</code>
                                <span class="type">Any</span>
                                <div class="param-description">The value the attribute is to be set to.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">attrName</code>
                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                <div class="param-description">The name of the attribute being set.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">subAttrName</code>
                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                <div class="param-description">If setting a property within the attribute's value, the name of the sub-attribute property being set.</div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    

    
</div>

                
                    <div id="attr_statusText" class="attr item">
    <a name="config_statusText"></a> 
    <h3 class="name"><code>statusText</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_api_io.js.html#l173"><code>src\api\io.js:173</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>响应状态字符串. 最终同回调 complete 中的 textStatus 一致.</p>

    </div>

    

    
        <div class="emits box">
            <h4>Fires event <code>statusTextChange</code></h4>

            <p>
            Fires when the value for the configuration attribute <code>statusText</code> is
            changed. You can listen for the event using the <code>on</code> method if you
            wish to be notified before the attribute's value has changed, or
            using the <code>after</code> method if you wish to be notified after the
            attribute's value has changed.
            </p>

            <div class="params">
                <h4>Parameters:</h4>

                <ul class="params-list">
                    <li class="param">
                        <code class="param-name">e</code>
                        <span class="type">EventFacade</span>

                        <div class="param-description">
                            An Event Facade object with the following
                            attribute-specific properties added:
                        </div>

                        <ul class="params-list">
                            <li class="param">
                                <code class="param-name">prevVal</code>
                                <span class="type">Any</span>
                                <div class="param-description">The value of the attribute, prior to it being set.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">newVal</code>
                                <span class="type">Any</span>
                                <div class="param-description">The value the attribute is to be set to.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">attrName</code>
                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                <div class="param-description">The name of the attribute being set.</div>
                            </li>
                            <li class="param">
                                <code class="param-name">subAttrName</code>
                                <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                <div class="param-description">If setting a property within the attribute's value, the name of the sub-attribute property being set.</div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    

    
</div>

                
            </div>
        

        
    </div>
</div>

                    </div>
                </div>
            </div>
            <div id="disqus_thread"></div>
            <script>
                if((window.location.hostname.indexOf("kissyui.com")!=-1 )&& window.localStorage.getItem("kissy-commment")!="0"){
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'kissy-docs'; // required: replace example with your forum shortname

                // The following are highly recommended additional parameters. Remove the slashes in front to use.
                 //var disqus_identifier = '/anim';
                 //var disqus_url = window.location;

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
                }
            </script>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
