<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src\api\promise.js - API Documentation — KISSY v1.5 Documentation</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="API Documentation — KISSY v1.5 Documentation"></h1>
            
        </div>
    </div>
    <div id="bd" class="yui3-g">
        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Anim.html">Anim</a></li>
            
                <li><a href="../classes/Attribute.html">Attribute</a></li>
            
                <li><a href="../classes/Base.html">Base</a></li>
            
                <li><a href="../classes/Container.html">Container</a></li>
            
                <li><a href="../classes/Control.html">Control</a></li>
            
                <li><a href="../classes/Cookie.html">Cookie</a></li>
            
                <li><a href="../classes/Defer.html">Defer</a></li>
            
                <li><a href="../classes/Dom.html">Dom</a></li>
            
                <li><a href="../classes/Event.html">Event</a></li>
            
                <li><a href="../classes/Feature.html">Feature</a></li>
            
                <li><a href="../classes/IO.html">IO</a></li>
            
                <li><a href="../classes/Json.html">Json</a></li>
            
                <li><a href="../classes/Loader.html">Loader</a></li>
            
                <li><a href="../classes/Node.html">Node</a></li>
            
                <li><a href="../classes/Path.html">Path</a></li>
            
                <li><a href="../classes/Promise.html">Promise</a></li>
            
                <li><a href="../classes/Query.html">Query</a></li>
            
                <li><a href="../classes/Target.html">Target</a></li>
            
                <li><a href="../classes/UA.html">UA</a></li>
            
                <li><a href="../classes/Uri.html">Uri</a></li>
            
                <li><a href="../classes/Util.html">Util</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/anim.html">anim</a></li>
            
                <li><a href="../modules/base.html">base</a></li>
            
                <li><a href="../modules/component_container.html">component/container</a></li>
            
                <li><a href="../modules/component_control.html">component/control</a></li>
            
                <li><a href="../modules/component_manager.html">component/manager</a></li>
            
                <li><a href="../modules/cookie.html">cookie</a></li>
            
                <li><a href="../modules/dom.html">dom</a></li>
            
                <li><a href="../modules/event.html">event</a></li>
            
                <li><a href="../modules/feature.html">feature</a></li>
            
                <li><a href="../modules/io.html">io</a></li>
            
                <li><a href="../modules/json.html">json</a></li>
            
                <li><a href="../modules/loader.html">loader</a></li>
            
                <li><a href="../modules/node.html">node</a></li>
            
                <li><a href="../modules/path.html">path</a></li>
            
                <li><a href="../modules/promise.html">promise</a></li>
            
                <li><a href="../modules/ua.html">ua</a></li>
            
                <li><a href="../modules/uri.html">uri</a></li>
            
                <li><a href="../modules/util.html">util</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src\api\promise.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
@module promise
*/

/**
### 简单使用
&#x60;&#x60;&#x60;
KISSY.use(&#x27;promise&#x27;,function(S,Promise){
	var d = new Promise.Defer();
    var promise = d.promise;
    promise.then(function (v) {
        return v + 1;
    }).then(function (v) {
            alert(v); // =&gt; 2
        });
    d.resolve(1); // 该位置也可以放在 then 前面
});
&#x60;&#x60;&#x60;
@class Promise
@constructor
@return promise 实例，外部不允许初始化。要通过[Defer()](/1.5/api/classes/Defer.html)来获取
*/

/**
当前 promise 实例已完成时注册一个 callback, 如果 promise fail, 则这下一个事件循环中抛出错误。
@method done
@param fulfilled {Function} 该 promise 成功时的回调，参数为 defer resolve 时的 value
@param [rejected] {Function} 该 promise 失败时的回调，参数为 defer reject 时的 reason
*/

/**
监听当前实例的成功和失败并返回新的 promise 实例
@method then
@param fulfilled {Function} 该 promise 成功时的回调，参数为 defer resolve 时的 value
@param [rejected] {Function} 该 promise 失败时的回调，参数为 defer reject 时的 reason
@return {Promise} 一个新的 promise. 当前 promise 成功时新的 promise 也成功. 当前 promise 失败时新的 promise 也失败
*/

/**
监听当前实例的失败并返回新的 promise 实例.相当于调用 this.then(null,rejected)
@method fail
@param rejected {Function} 该 promise 失败时的回调，参数为 defer reject 时的 reason
@return {Promise} 一个新的 promise. 当前 promise 成功时新的 promise 也成功. 当前 promise 失败时新的 promise 也失败
*/

/**
监听当前实例的成功和失败并返回新的 promise 实例
@method fin
@param callback {Function} 该 promise 成功或失败时的回调， 成功时参数为 defer resolve 时的 value 和 true. 失败时参数为 defer reject 时的 reason 和 false
@return {Promise} 一个新的 promise. 当前 promise 成功时新的 promise 也成功. 当前 promise 失败时新的 promise 也失败
*/

/**
返回当前 promise 是否成功了
@method isResolved
@return {Boolean}
*/

/**
返回当前 promise 是否失败了
@method isRejected
@return {Boolean}
*/

/**
返回参数 promise 是否成功了
@method isResolved
@param promise {Promise} 需要查询的promise实例
@static
@return {Boolean}
*/

/**
返回参数 promise 是否失败了
@method isRejected
@param promise {Promise} 需要查询的promise实例
@static
@return {Boolean}
*/

/**
返回参数 promise 是否是 promise
@method isPromise
@param promise {Object} 需要查询的对象
@static
@return {Boolean}
*/

/**
返回一个新的 promise
@method when
@static
@param obj {Object} 监听的对象.如果 obj 为 promise 类型，相当于 obj.then(fulfilled, rejected);否则直接调用 fulfilled(obj)，并返回一个成功的 promise
@param fulfilled {Function}
@param rejected {Function}
@return {Promise}
*/

/**
返回一个新的 promise.当 objects 全部成功后新的 promise 成功，否以第一个 promise 的失败值为失败
@method all
@static
@param objects {Promise|Array&lt;Object&gt;} promise或普通对象数组
@return {Promise}
*/





/**
@class Defer
@constructor
@return Defer 实例，用于逻辑内部控制成功或失败，返回 promise 供外部监听
*/

/**
用于外部监听成功失败的 promise 对象
@property promise {Promise}
*/

/**
使得内部的 promise 成功，并设置成功值为 value，
如果 value 也是 promise，只有等 value 成功后改 defer 内部的 promise 才算成功
@method resolve
@param value 任意值（ 包括 promise ）
*/

/**
设置内部 promise 为失败状态，失败回调参数为 reason
@method reject
@param reason 设置给失败回调函数的参数
*/
    </pre>
</div>

                    </div>
                </div>
            </div>
            <div id="disqus_thread"></div>
            <script>
                if((window.location.hostname.indexOf("kissyui.com")!=-1 )&& window.localStorage.getItem("kissy-commment")!="0"){
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'kissy-docs'; // required: replace example with your forum shortname

                // The following are highly recommended additional parameters. Remove the slashes in front to use.
                 //var disqus_identifier = '/anim';
                 //var disqus_url = window.location;

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
                }
            </script>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
